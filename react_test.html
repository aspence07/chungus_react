<html>

<head>

	<title>React</title>

</head>

<body>

	<div id = "root"></div>

<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">

	class MiniChungus extends React.Component {

		constructor(props) {

			super(props);

			this.state = {
				inputVal: "",
				parent: props.parent
			}

			this.handleChange = this.handleChange.bind(this);
		}

		handleChange(event) {
			this.setState({inputVal : event.target.value});
			this.state.parent.foo(this.state.inputVal);
		}

		render() {

			return (

				<div>
					I'm a MiniChungus named {this.state.inputVal}<br />
					<input type="text" onChange={this.handleChange} value={this.state.inputVal} />
				</div>

			);

		}

	} // END MiniChungus

	class Chungus extends React.Component {

		constructor(props) {

			super(props);

			this.state = {
				name: null,
				miniChungusName: null,
			}
		}

		foo(name) {
			//console.log("foo");

			this.setState({ miniChungusName: name });
		}


		render() {
			return (
				<div>
					<div> I'm a Big Chungus named {this.state.name} </div>
					<div> My MiniChungus is named {this.state.miniChungusName} </div>
					<MiniChungus parent={this} />
				</div>
			);
		}

		componentDidMount() {

			var thisChungus = this;

			this.setState(
				{
					name: "MegaChungus"
				}
			);
	
		} // END componentDidMount()

	}

	ReactDOM.render(<Chungus />, document.getElementById("root"));


</script>	

</body>

</html>
